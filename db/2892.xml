<?xml version="1.0" encoding="ISO-8859-1"?>
<?xml-stylesheet type="text/xsl" href="helma.xsl"?>
<xmlroot xmlns:hop="http://www.helma.org/docs/guide/features/database">
  <hopobject id="2892" name="processingjs" prototype="Page" created="1374308047101" lastModified="1374358623830">
  <hop:parent idref="2471" prototyperef="Page"/>
    <is_xhtml type="boolean">true</is_xhtml>
    <http_remotehost>127.0.0.1</http_remotehost>
    <http_language>en-US,en;q=0.8</http_language>
    <uri>processingjs</uri>
    <http_browser>Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36</http_browser>
    <time type="date">20.07.2013 17:17:03 CDT</time>
    <hopsession>127.0.0.13.7.64.jzdxkm1pger2</hopsession>
    <body>&lt;canvas id=&quot;mysketch&quot;&gt;&lt;/canvas&gt;
&lt;script src=&quot;/static/bonescript.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;/static/processing.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
(function(){
var canvas = document.getElementById(&apos;mysketch&apos;);
var pjs = new Processing(canvas);

// Global variables
var radius = 50.0;
var X, Y;
var nX, nY;
var delay = 16;
var brightness = 0;
var LED_RED = &apos;P9_42&apos;;
var LED_GREEN = &apos;P9_14&apos;;
var LED_BLUE = &apos;P9_16&apos;;
var BUTTON = &apos;P8_19&apos;;
var POT = &apos;P9_36&apos;;

// Get the BoneScript library and begin updating the canvas
setTargetAddress(&apos;192.168.7.2&apos;, {initialized: run});
function run() {
    var b = require(&apos;bonescript&apos;);

    // Setup the Processing Canvas
    pjs.setup = function() {
        pjs.size(400, 400);
        pjs.strokeWeight(10);
        pjs.frameRate(15);
        X = pjs.width / 2;
        Y = pjs.height / 2;
        nX = X;
        nY = Y;  
    }
    
    // Main draw loop
    pjs.draw = function() {
        radius = radius + pjs.sin(pjs.frameCount / 4);
        brightness = (radius - 40.0) / 20.0;
        b.analogWrite(LED_BLUE, brightness);
      
        // Track circle to new destination
        X+=(nX-X)/delay;
        Y+=(nY-Y)/delay;
      
        // Fill canvas grey
        pjs.background(100);
      
        // Set fill-color to blue
        pjs.fill(0, 121, 184);
      
        // Set stroke-color white
        pjs.stroke(255); 
      
        // Draw circle
        pjs.ellipse(X, Y, radius, radius);                  
    }
    
    pjs.setup();
}

})();
&lt;/script&gt;
&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;</body>
    <pseudoparent idref="2471" prototyperef="Page"/>
    <http_referer>http://beagleboard.org/support/BoneScript/processingjs/edit</http_referer>
    <http_host>beagleboard.org</http_host>
    <user>jkridner@gmail.com</user>
    <lang>en-us</lang>
  </hopobject>
</xmlroot>

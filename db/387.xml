<?xml version="1.0" encoding="ISO-8859-1"?>
<?xml-stylesheet type="text/xsl" href="helma.xsl"?>
<xmlroot xmlns:hop="http://www.helma.org/docs/guide/features/database">
  <hopobject id="387" name="angstrom" prototype="Page" created="1221511249530" lastModified="1221708414743">
  <hop:parent idref="386" prototyperef="Page"/>
    <http_browser>Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.0.2) Gecko/2008090514 Firefox/3.0.2</http_browser>
    <lang>en-us</lang>
    <uri>angstrom</uri>
    <http_host>beagleboard.org</http_host>
    <time type="date">17.09.2008 22:26:54 CDT</time>
    <pseudoparent idref="386" prototyperef="Page"/>
    <http_remotehost>127.0.0.1</http_remotehost>
    <hopsession>127.0.0.192.91.75.msm9l1l5077d</hopsession>
    <user>blog.hangerhead.com</user>
    <body>
 &lt;h1&gt;Angtrom Demo from Windows&lt;/h1&gt;
 &lt;h2&gt;Build the &apos;dd&apos; image if you don&apos;t already have it&lt;/h2&gt;
 &lt;ul&gt;
  &lt;li&gt;
   &lt;a href=&quot;http://www.angstrom-distribution.org/demo/beagleboard/&quot;&gt;http://www.angstrom-distribution.org/demo/beagleboard/&lt;/a&gt;
  &lt;/li&gt;
  &lt;li&gt;http://www.beagleboard.org/uploads/angstrom-console-rd.gz&lt;/li&gt;
  &lt;li&gt;
   &lt;a href=&quot;http://www.angstrom-distribution.org/repo/&quot;&gt;http://www.angstrom-distribution.org/repo/&lt;/a&gt;
  &lt;/li&gt;
  &lt;li&gt;Use HP utility on the SD card&lt;/li&gt;
  &lt;li&gt;
   Setup u-boot for booting kernel from the uImage file on the SD card and rootfs from the ramdisk (angstrom-console-rd.gz) on the SD card
   &lt;pre&gt;setenv bootargs &apos;console=ttyS2,115200n8 console=tty0 root=/dev/ram0 rw ramdisk_size=32768 initrd=0x81600000,32M nohz=off&apos;
setenv bootcmd &apos;mmcinit;fatload mmc 0 80300000 uImage;fatload mmc 0 81600000 angstrom-console-rd.gz;bootm 80300000&apos;
saveenv&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
   Copy files over to flash
   &lt;pre&gt;opkg install ./mtd*
flash_eraseall /dev/mtd4
mount -t jffs2 /dev/mtdblock4 /media/hdd
cp /media/mmcblk0p1/* /media/hdd/&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
   Re-partition the SD card
   &lt;pre&gt;Command (m for help): p

Disk /dev/mmcblk0: 4026 MB, 4026531840 bytes
255 heads, 63 sectors/track, 489 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes

        Device Boot      Start         End      Blocks  Id System
/dev/mmcblk0p1   *           1         490     3932128+  c Win95 FAT32 (LBA)
Partition 1 has different physical/logical endings:
     phys=(488, 254, 63) logical=(489, 135, 30)

Command (m for help): d
Selected partition 1

Command (m for help): n
Command action
   e   extended
   p   primary partition (1-4)
p
Partition number (1-4): 1
First cylinder (1-489, default 1): Using default value 1
Last cylinder or +size or +sizeM or +sizeK (1-489, default 489): 15

Command (m for help): a
Partition number (1-4): 1

Command (m for help): n
Command action
   e   extended
   p   primary partition (1-4)
p
Partition number (1-4): 2
First cylinder (16-489, default 16): 27
Last cylinder or +size or +sizeM or +sizeK (27-489, default 489): Using default
value 489

Command (m for help): t
Partition number (1-4): 1
Hex code (type L to list codes): c
Changed system type of partition 1 to c (Win95 FAT32 (LBA))

Command (m for help): p

Disk /dev/mmcblk0: 4026 MB, 4026531840 bytes
255 heads, 63 sectors/track, 489 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes

        Device Boot      Start         End      Blocks  Id System
/dev/mmcblk0p1   *           1          15      120456   c Win95 FAT32 (LBA)
/dev/mmcblk0p2              16          62      377527+ 83 Linux

Command (m for help): w
The partition table has been altered!

Calling ioctl() to re-read partition table
 mmcblk0: p1 p2
root@beagleboard:/media/hdd# FAT: bogus number of reserved sectors
VFS: Can&apos;t find a valid FAT filesystem on dev mmcblk0p2.&lt;/pre&gt;
   &lt;pre&gt;umount&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
   Format the partitions on the SD card
   &lt;pre&gt;root@beagleboard:/media/hdd# opkg update; opkg install dosfstools
root@beagleboard:/media/hdd# root@beagleboard:/media/hdd# mkfs.vfat -F 32 /dev/mmcblk0p1 -n SDCARD_X
mkfs.msdos 2.11 (12 Mar 2005)
root@beagleboard:/media/hdd# opkg install e2fsprogs-mke2fs
root@beagleboard:/media/hdd# mkfs.ext3 /dev/mmcblk0p2&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
   Copy files onto SD card
   &lt;pre&gt;root@beagleboard:/media/hdd# mount /dev/mmcblk0p1/ /media/mmcblk0p1/
root@beagleboard:/media/hdd# cp mlo /media/mmcblk0p1/MLO
root@beagleboard:/media/hdd# cp u-boot.bin /media/mmcblk0p1/
root@beagleboard:/media/hdd# cp uImage /media/mmcblk0p1/
root@beagleboard:/media/hdd# mkdir /media/mmcblk0p2
root@beagleboard:/media/hdd# mount /dev/mmcblk0p2 /media/mmcblk0p2
kjournald starting.  Commit interval 5 seconds
EXT3 FS on mmcblk0p2, internal journal
EXT3-fs: mounted filesystem with ordered data mode.
root@beagleboard:/media/hdd# cd /media/mmcblk0p2
root@beagleboard:/media/mmcblk0p2# tar xvjf /media/hdd/Angstrom-Beagleboard-demo-image
-glibc-ipk-2008.1-test-20080911-beagleboard.rootfs.tar.bz2
root@beagleboard:/media/mmcblk0p2# cd /media/hdd
root@beagleboard:/media/hdd# sync&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
   Setup u-boot for booting kernel from uImage file on the first partition of the SD card and rootfs on the second partition on the SD card
   &lt;pre&gt;setenv bootargs &apos;console=ttyS2,115200n8 console=tty0 root=/dev/mmcblk0p2 rootwait video=omapfb:vram:2M,vram:4M nohz=off&apos;
setenv bootcmd &apos;mmcinit;fatload mmc 0 84000000 uImage;bootm 84000000&apos;
saveenv&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
   Install useful apps
   &lt;pre&gt;opkg install vim
opkg install screen
opkg install mtd-utils
opkg install e2fsprogs
opkg install dosfstools
opkg install tar
opkg install git
opkg install task-native-sdk
opkg install bash
opkg install imagemagick&lt;/pre&gt;
   &lt;br/&gt;
   &lt;pre&gt;opkg install e2fsprogs-mke2fs
opkg install quake2
opkg install sugar
opkg install smbfs&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;
   &lt;pre&gt;C:\&gt;dd --list
rawwrite dd for windows version 0.5.
Written by John Newbigin 
This program is covered by the GPL.  See copying.txt for details
Win32 Available Volume Information
\\.\Volume{f2d19eb4-23f6-11db-a984-806d6172696f}\
  link to \\?\Device\HarddiskVolume1
  fixed media
  Mounted on \\.\c:

\\.\Volume{1bba7385-4935-11dd-80e5-00059a3c7800}\
  link to \\?\Device\Harddisk1\DP(1)0-0+b
  removeable media
  Mounted on \\.\j:

C:\&gt;dd if=\\.\Volume{1bba7385-4935-11dd-80e5-00059a3c7800} of=angstrom-dd.img --size
rawwrite dd for windows version 0.5.
Written by John Newbigin 
This program is covered by the GPL.  See copying.txt for details
240912+0 records in
240912+0 records out&lt;/pre&gt;
  &lt;/li&gt;
 &lt;/ul&gt;
 &lt;h2&gt;Write &apos;dd&apos; image to the card&lt;/h2&gt;
</body>
    <http_language>en-us,en;q=0.8,en-gb;q=0.5,ja;q=0.3</http_language>
    <http_referer>http://beagleboard.org/demo/angstrom/edit</http_referer>
    <beagleirclog>000000</beagleirclog>
  </hopobject>
</xmlroot>
